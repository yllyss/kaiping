<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>1130</title>
  <link rel="stylesheet" href="./css/index.css">
</head>
<body>
  <!--最外侧包裹容器-->
  <div id="wrap">
    <!--头部区域-->
    <header id="header">
      <!--头部承接内容区域-->
      <div class="headerMain">
        <!--左侧logo区-->
        <h1 class="logo">
          <a href="http://wwww.atguigu.com">
            <img src="./img/logo.png" alt="尚硅谷IT教育">
          </a>
        </h1>
        <!--右侧导航区-->
        <nav class="nav">

          <ul class="navList clearfix">
            <li class="navItem">
              <a href="javascript:;">
                <div class="up"><img src="./img/home_gruen.png"></div>
                <div class="down"><img src="./img/home.png"></div>
              </a>
            </li>
            <li class="navItem">
              <a href="javascript:;">
                <div class="up">Course</div>
                <div class="down">Course</div>
              </a>
            </li>
            <li class="navItem">
              <a href="javascript:;">
                <div class="up">Works</div>
                <div class="down">Works</div>
              </a>
            </li>
            <li class="navItem">
              <a href="javascript:;">
                <div class="up">About</div>
                <div class="down">About</div>
              </a>
            </li>
            <li class="navItem">
              <a href="javascript:;">
                <div class="up">Team</div>
                <div class="down">Team</div>
              </a>
            </li>
          </ul>
        </nav>
        <!--三角-->
        <div class="arrow"></div>
      </div>
    </header>
    <!--内容区-->
    <section id="content">
      <ul class="contentList">
        <!--第一屏-->
        <li class="contentItem home">
          <div class="contentInner">
            <!--承接每一个轮播图的容器-->
            <ul class="homeList">
              <li class="homeItem active"><div class="commonTitle">one layer</div></li>
              <li class="homeItem "><div class="commonTitle">two layer</div></li>
              <li class="homeItem "><div class="commonTitle">three layer</div></li>
              <li class="homeItem "><div class="commonTitle">four layer</div></li>
            </ul>
            <!--下部小按钮导航-->
            <ul class="homeNav clearfix">
              <li class="homeIcon active"></li>
              <li class="homeIcon"></li>
              <li class="homeIcon"></li>
              <li class="homeIcon"></li>
            </ul>
          </div>
        </li>
        <!--第二屏-->
        <li class="contentItem course">
          <div class="contentInner">
            <div class="course1">
              <p class="commonTitle">EINIGE</p>
              <p class="commonTitle">UNSERER</p>
              <p class="commonTitle">KUNDEN</p>
            </div>
            <div class="course2">
              <p class="commonText">
                Das Kundenvertrauen in unsere Kompetenz ist die notwendige Basis einer erfolgreichen Zusammenarbeit, gleichzeitig aber auch das größte Lob, das man uns entgegenbringen kann.
              </p>
              <p class="commonText">
                Diese und viele weitere große und kleine Kunden vertrauen uns seit Jahren, was uns stolz macht, und dafür sagen wir an dieser Stelle einfach mal.
              </p>
            </div>
            <div class="course3 clearfix">
              <div class="plus"></div>
              <div class="plus"></div>
              <div class="plus"></div>
              <div class="plus"></div>
              <div class="plus"></div>
              <div class="course3Item">
                <div class="front"></div>
                <div class="back">我是一段文字</div>
              </div>
              <div class="course3Item">
                <div class="front"></div>
                <div class="back">班长太帅了</div>
              </div>
              <div class="course3Item">
                <div class="front"></div>
                <div class="back">1130就业顺利</div>
              </div>
              <div class="course3Item">
                <div class="front"></div>
                <div class="back">1130就业顺利</div>
              </div>
              <div class="course3Item">
                <div class="front"></div>
                <div class="back">1130就业顺利</div>
              </div>
              <div class="course3Item">
                <div class="front"></div>
                <div class="back">1130就业顺利</div>
              </div>
              <div class="course3Item">
                <div class="front"></div>
                <div class="back">1130就业顺利</div>
              </div>
              <div class="course3Item">
                <div class="front"></div>
                <div class="back"></div>
              </div>
              <div class="course3Item">
                <div class="front"></div>
                <div class="back"></div>
              </div>
              <div class="course3Item">
                <div class="front"></div>
                <div class="back"></div>
              </div>
              <div class="course3Item">
                <div class="front"></div>
                <div class="back"></div>
              </div>
              <div class="course3Item">
                <div class="front"></div>
                <div class="back"></div>
              </div>
            </div>
          </div>
        </li>
        <!--第三屏-->
        <li class="contentItem works">
          <div class="contentInner">
            <div class="works1">
              <p class="commonTitle">EINBLICK</p>
              <p class="commonTitle">ERKENNTNIS</p>
              <p class="commonTitle">ERGEBNIS</p>
            </div>
            <div class="works2 clearfix">
              <div class="works2Item">
                <img src="./img/worksimg1.jpg">
                <div class="mask">
                  <span>爱马仕·巴黎世家·卡地亚</span>
                  <div class="icon"></div>
                </div>
              </div>
              <div class="works2Item">
                <img src="./img/worksimg2.jpg">
                <div class="mask">
                  <span>爱马仕·巴黎世家·卡地亚</span>
                  <div class="icon"></div>
                </div>
              </div>
              <div class="works2Item">
                <img src="./img/worksimg3.jpg">
                <div class="mask">
                  <span>爱马仕·巴黎世家·卡地亚</span>
                  <div class="icon"></div>
                </div>
              </div>
              <div class="works2Item">
                <img src="./img/worksimg4.jpg">
                <div class="mask">
                  <span>爱马仕·巴黎世家·卡地亚</span>
                  <div class="icon"></div>
                </div>
              </div>
            </div>
            <div class="works3">
              <div class="robot"></div>
            </div>
          </div>
        </li>
        <!--第四屏-->
        <li class="contentItem about">
          <div class="contentInner">
            <div class="about1">
              <p class="commonTitle">EINBLICK</p>
              <p class="commonTitle">ERKENNTNIS</p>
              <p class="commonTitle">ERGEBNIS</p>
            </div>
            <div class="about2">
              <p class="commonText">
                Der bunte Medienmix ist die Faszination die uns antreibt und das, was man an uns schätzt. Von A bis Z und von vorne bis hinten nehmen wir Ihr Projekt unter unsere Fittiche und lassen es zu etwas Großartigem heranwachsen.
              </p>
            </div>
            <div class="about3">
              <div class="about3Item">
                <img src="./img/about2.jpg">
                <div class="mask">
                  <ul class="maskList">
                    <li class="maskItem">
                      <img src="./img/about1.jpg">
                    </li>
                    <li class="maskItem">
                      <img src="./img/about1.jpg">
                    </li>
                    <li class="maskItem">
                      <img src="./img/about1.jpg">
                    </li>
                    <li class="maskItem">
                      <img src="./img/about1.jpg">
                    </li>
                  </ul>
                </div>
              </div>
              <div class="about3Item">
                <img src="./img/about4.jpg">
                <div class="mask">
                  <ul class="maskList">
                    <li class="maskItem">
                      <img src="./img/about3.jpg">
                    </li>
                    <li class="maskItem">
                      <img src="./img/about3.jpg">
                    </li>
                    <li class="maskItem">
                      <img src="./img/about3.jpg">
                    </li>
                    <li class="maskItem">
                      <img src="./img/about3.jpg">
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
          <div class="line"></div>
        </li>
        <!--第五屏-->
        <li class="contentItem">
          <div class="contentInner">
            team
          </div>
        </li>
      </ul>
    </section>
  </div>

  <script>
   window.onload = function () {
     //获取元素
     var header = document.getElementById('header');
     var content = document.getElementById('content');
     var contentItems = document.querySelectorAll('#content .contentItem');
     var contentList = document.querySelector('#content .contentList')
     var arrow = document.querySelector('#header .headerMain .arrow');
     var navUps = document.querySelectorAll('#header .headerMain .nav .navList .navItem .up');
     var navItems = document.querySelectorAll('#header .headerMain .nav .navList .navItem');
     var homeIcons = document.querySelectorAll('#content .contentList .home .homeNav .homeIcon')
     var homeItems = document.querySelectorAll('#content .contentList .home .homeList .homeItem')
     var index = 0;//定义主体内容区的索引，（鼠标滚轮的部分）
     var oldIndex = 0//轮播图部分的索引
     var timeId = null;//鼠标滚轮的id
     var autoTimeId = null;//自动轮播部分的id
     var isAnimation = false;//标识轮播图是否正在进行切换
    
     //响应缩放逻辑
     window.onresize = function () {
       contentBind()
       contentMove(index)
     }
     
     //头部交互
     headerBind()
     function headerBind() {
       //初始化第一个up元素高亮
       navUps[index].style.width = '100%'
       //初始化三角的位置
       arrow.style.left = navItems[index].getBoundingClientRect().left + navItems[index].offsetWidth/2 + 'px';
       for (var i=0; i<navItems.length; i++ ){
         var item = navItems[i];
         item.index = i
         //给每一个导航的li加点击事件
         item.onclick = function () {
           index = this.index
           contentMove(this.index)
         }
       }
     }
    
     //内容区逻辑
     contentBind()
     function contentBind() {
       //设置承接内容盒子的高度
       content.style.height = document.documentElement.clientHeight - header.offsetHeight + 'px';
       //给每一屏设置高度
       for (var i=0; i<contentItems.length; i++ ){
         contentItems[i].style.height = document.documentElement.clientHeight - header.offsetHeight + 'px';
       }
     }
     
     //屏幕切换逻辑
     contentMove(0)
     function contentMove(index) {
       //1.清除所有高亮效果
       for (var j=0; j<navUps.length; j++ ){
         navUps[j].style.width = ''
       }
       //2.给当前点击的加上高亮
       navUps[index].style.width = '100%'
       //3.移动三角到当前位置
       arrow.style.left = navItems[index].getBoundingClientRect().left + navItems[index].offsetWidth/2 + 'px';
       //4.移动内容区
       contentList.style.top = -(index)*(document.documentElement.clientHeight - header.offsetHeight) +'px'

     }

     //鼠标滚轮逻辑
     mouseScroll()
     function mouseScroll() {
       //鼠标滚轮逻辑
       //ie/chrome
       document.onmousewheel = function (event) {
         //如果之前有定时器，清除之前的定时器
         clearTimeout(timeId)
         timeId = setTimeout(function () {
           scrollMove(event)
         },200)
       }
       //firefox
       if(document.addEventListener){
         document.addEventListener('DOMMouseScroll',function () {
           //如果之前有定时器，清除之前的定时器
           clearTimeout(timeId)
           timeId = setTimeout(function () {
             scrollMove(event)
           },200)
         });
       }
       function scrollMove(event) {
         event = event || window.event;
         var flag = '';
         if(event.wheelDelta){
           //ie/chrome
           if(event.wheelDelta > 0){
             //上
             flag = 'up';
           }else {
             //下
             flag = 'down'
           }
         }
         else if(event.detail){
           //firefox
           if(event.detail < 0){
             //上
             flag = 'up';
           }else {
             //下
             flag = 'down'
           }
         }
         //最终判断滚轮的方向
         switch (flag){
           case 'up':
             //滚轮向上滚动
             if(index>0){
               index--
               contentMove(index)
             }
             break;
           case 'down':
             //滚轮向下滚动
             if(index < navItems.length-1){
               index++
               contentMove(index)
             }
             break;
         }

         //取消默认行为
         event.preventDefault && event.preventDefault();
         return false;
       }
     }

     //第一屏点击切换轮播图
     home3D()
     function home3D() {
       for (var i=0; i<homeIcons.length; i++ ){
         var item = homeIcons[i];
         item.index = i
         item.onclick = function () {
           //判断是否正在进行动画切换
           if(isAnimation){
             return
           }
           //标识动画正在进行
           isAnimation = true
           //动画结束后，重置状态
           setTimeout(function () {
             isAnimation = false
           },2000)
           clearInterval(autoTimeId)
           //1.重置所有小圆点的样式
           for (var j=0; j<homeIcons.length; j++ ){
             homeIcons[j].className = 'homeIcon'
           }
           //2.给当前点击的加高亮
           this.className = 'homeIcon active'
           //3.判断当前点击的和之前的比较，（是上一张，还是下一张）
           if(oldIndex < this.index){
             //用户点击的是后面的（右面的）某一张
             homeItems[oldIndex].className = 'homeItem leftHide';//之前的一张隐藏
             homeItems[this.index].className = 'homeItem rightShow'//当前这一张显示
           }
           else if(oldIndex > this.index){
             //如果用户点击的是之前的某一张
             homeItems[oldIndex].className = 'homeItem rightHide';//之前的一张隐藏
             homeItems[this.index].className = 'homeItem leftShow'//当前这一张显示
           }
           oldIndex = this.index
           autoPlay()
         }
       }
     }
     
     //自动轮播
     autoPlay()
     function autoPlay() {
       autoTimeId = setInterval(function () {
         //判断是否正在进行动画切换
         if(isAnimation){
           return
         }
         //标识动画正在进行
         isAnimation = true
         //动画结束后，重置状态
         setTimeout(function () {
           isAnimation = false
         },2000)
         //1.重置所有的小圆点
         for (var i=0; i<homeIcons.length; i++ ){
           homeIcons[i].className = 'homeIcon'
         }
         //2.给当前切换到的这一个，加高亮
         homeIcons[oldIndex+1>3?0:oldIndex+1].className = 'homeIcon active'
         //3.控制上一屏和下一屏的动画
         homeItems[oldIndex].className = 'homeItem leftHide';
         homeItems[oldIndex+1>3?0:oldIndex+1].className = 'homeItem rightShow';

         
         if(oldIndex<homeItems.length-1){
           oldIndex++
         }else{
           oldIndex = 0
         }
       },3000)
     }
     
     
   }
    
  </script>
</body>
</html>